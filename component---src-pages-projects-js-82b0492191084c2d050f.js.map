{"version":3,"sources":["webpack:///./src/pages/projects.js"],"names":["Search","styled","input","FlexDiv","div","Projects","posts","map","node","frontmatter","excerpt","slug","fields","ProjectPage","list","useStaticQuery","allMarkdownRemark","edges","useState","filteredData","query","state","setState","title","type","aria-label","placeholder","onChange","event","target","value","filter","post","tags","toLowerCase","includes","join"],"mappings":"8FAAA,4FAQMA,EAASC,IAAOC,MAAV,uEAAGD,CAAH,mRAsBNE,EAAUF,IAAOG,IAAV,wEAAGH,CAAH,yFAOb,SAASI,EAAT,GACE,OAD2B,EAATC,MACLC,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OACf,kBAAC,IAAD,CAAMC,YAAaD,EAAKC,YAAaC,QAASF,EAAKE,QAASC,KAAMH,EAAKI,OAAOD,UAmFnEE,UA/EK,WAClB,IAAMC,EAAOC,yBAAe,aA8BtBT,EAAQQ,EAAKE,kBAAkBC,MA/Bb,EAkCEC,mBAAS,CACjCC,aAAcb,EACdc,MAHiB,KACZC,EAlCiB,KAkCVC,EAlCU,KA8DxB,OACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,MAAM,aACX,gCACE,kBAACvB,EAAD,CACEwB,KAAK,OACLC,aAAW,SACXC,YAAY,6BACZC,SA/BoB,SAAAC,GACxB,IAAMR,EAAQQ,EAAMC,OAAOC,MAGrBX,GAFOL,EACME,kBAAkBC,OAAS,IACnBc,QAAO,SAAAC,GAAS,IAAD,EACjBA,EAAKxB,KAAKC,YAA1Bc,EADiC,EACjCA,MAAOU,EAD0B,EAC1BA,KAEd,OADgBD,EAAKxB,KAAKE,QAEhBwB,cAAcC,SAASf,EAAMc,gBACrCX,EAAMW,cAAcC,SAASf,EAAMc,gBAClCD,GAAQA,EACNG,KAAK,IACLF,cACAC,SAASf,EAAMc,kBAItBZ,EAAS,CACPF,QACAD,oBAcA,kBAAChB,EAAD,KACE,kBAACE,EAAD,CAAUC,MAAOe,EAAMF","file":"component---src-pages-projects-js-82b0492191084c2d050f.js","sourcesContent":["import React, { useState } from \"react\"\nimport { graphql, useStaticQuery } from \"gatsby\"\nimport styled from \"styled-components\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport Card from \"../components/card\"\n\nconst Search = styled.input`\n  background: #2a2e35;\n  opacity: 0.7;\n  padding: 0 2rem;\n  width: 50%;\n  height: 50px;\n  border-radius: 50px;\n  border: none;\n  color: white;\n  font-family: Roboto;\n  transition : 0.2s ease-in;\n  &:focus, &:hover{\n    opacity: 1;\n    box-shadow: none;\n    transition : 0.2s ease-in;\n  }\n\n  @media screen and (max-width: 1080px){\n    width: 90%;\n  }\n`;\n\nconst FlexDiv = styled.div`\n    margin-top: 5%;\n    justify-content: center;\n    display: flex;\n    flex-wrap: wrap;\n    position: relative;\n`\nfunction Projects({ posts }) {\n  return posts.map(({ node }) => (\n    <Card frontmatter={node.frontmatter} excerpt={node.excerpt} slug={node.fields.slug}/>\n  ))\n}\n\nconst ProjectPage = () => {\n  const list = useStaticQuery(graphql`\n    query {\n      allMarkdownRemark(\n        filter: { fileAbsolutePath: { regex: \"/.*projects/\" } }\n        sort: { fields: frontmatter___date, order: DESC}\n      ) {\n        edges {\n          node {\n            fields {\n              slug\n            }\n            frontmatter {\n              title\n              date (formatString: \"MMMM Do, YYYY\")\n              tags\n              featuredImage {\n                childImageSharp {\n                  fluid {\n                    ...GatsbyImageSharpFluid\n                  }\n                }\n              }\n            }\n            excerpt(format: PLAIN)\n          }\n        }\n      }\n    }\n  `)\n\n  const posts = list.allMarkdownRemark.edges;\n\n  const emptyQuery = \"\"\n  const [state, setState] = useState({\n    filteredData: posts,\n    query: emptyQuery,\n  })\n\n  const handleInputChange = event => {\n    const query = event.target.value\n    const data = list\n    const posts = data.allMarkdownRemark.edges || []\n    const filteredData = posts.filter(post => {\n      const {title, tags } = post.node.frontmatter\n      const excerpt = post.node.excerpt;\n      return (\n        excerpt.toLowerCase().includes(query.toLowerCase())||\n        title.toLowerCase().includes(query.toLowerCase()) ||\n        (tags && tags\n          .join(\"\") \n          .toLowerCase()\n          .includes(query.toLowerCase()))\n      )\n    })\n    \n    setState({\n      query,\n      filteredData,\n    })\n  }\n\n  return (\n  <Layout>\n    <SEO title=\"Projects\" />\n    <center>\n      <Search\n        type=\"text\"\n        aria-label=\"Search\"\n        placeholder=\"🔍 Type to filter posts...\"\n        onChange={handleInputChange}\n      />\n      <FlexDiv>\n        <Projects posts={state.filteredData}></Projects>\n      </FlexDiv>\n    </center>\n  </Layout>)\n}\n\nexport default ProjectPage\n"],"sourceRoot":""}